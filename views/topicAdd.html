{{template "public/T.header.html"}}
<title>添加文章</title>
</head>

<body>
    <div class="navbar navbar-default navbar-fixed-top">
        <div class="container">
            {{template "public/T.navbar.html" .}}
        </div>
    </div>
    <div class="container">
        <form role="form" method="post" action="/topic">
            <div class="form-group">
                <label for="exampleInputEmail1">标题</label>
                <input type="text" class="form-control" id="title" name="title" placeholder="Title">
            </div>
            <div class="form-group">
                <label for="exampleInputEmail1">分类</label>
                <select class="form-control" name="classID">
                    {{range .ClassList}}
                    <option value="{{.Id}}">{{.Title}}</option>
                    {{end}}
                </select>
            </div>
            <div class="form-group">
                <label for="exampleInputPassword1">内容</label>
                <textarea name="content" id="editor" cols="30" rows="100"></textarea>
            </div>
            <div class="form-group">
                <!-- <div class="col-sm-offset-2 col-sm-10"> -->
                <button type="submit" class="btn btn-default" onclick="return checkInput();">提交</button>
                <!-- </div> -->
            </div>
        </form>

        <script type="text/javascript" charset="utf-8" src="/static/js/ueditor.config.js"></script>
        <script type="text/javascript" charset="utf-8" src="/static/js/ueditor.all.min.js"></script>
        <script type="text/javascript" charset="utf-8" src="/static/js/lang/zh-cn/zh-cn.js"></script>
        <script>
        var ue = UE.getEditor('editor', {
            toolbars: [
                ['fullscreen', 'source', 'undo', 'redo', 'bold', 'inserttitle', 'insertcode', 'fontfamily', 'fontsize', 'paragraph', 'link', 'forecolor', 'indent', 'fontborder', 'insertorderedlist', 'insertunorderedlist', 'customstyle', 'indent', 'justifyleft', 'justifyright', 'justifycenter', 'justifyjustify', 'emotion', 'horizontal', 'map', 'music', 'charts', 'inserttable', 'deletetable', 'insertparagraphbeforetable', 'insertrow', 'insertcol', 'mergeright', 'mergedown', 'deleterow', 'deletecol', 'splittorows', 'splittocols', 'splittocells', 'mergecells']
            ],
            autoHeightEnabled: true,
            autoFloatEnabled: true,
            initialFrameHeight: 400,
            serverUrl: ""
        });

        function checkInput() {
            if ($('#title').val().length === 0) {
                alert('请输入文章标题')
                return false
            }

            if ($('#content').val().length === 0) {
                alert('请输入文章内容')
                return false
            }
        }
        </script>
    </div>
    {{template "public/T.footer.html"}}
</body>

</html>
